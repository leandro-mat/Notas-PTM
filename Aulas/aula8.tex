\chapter[Aula 8]{Lei Zero-Um de Komolgorov}
\chaptermark{}

\section{Uma Propriedade de Sequências de v.a.'s Exponenciais Independentes}


Nesta seção vamos assumir que $\{X_n\}$ é uma sequência 
de v.a.'s iid com distribuição exponencial de parâmetro 1,
isto é, $X_n\geq 0$ e  
\[
	\P(X_n>x)=e^{-x}.
\] 

O objetivo desta seção é provar que 
%
	\begin{equation}\label{exemplo-seq-exp-par-1-indep-cresce-logn}
		\P
		\left(
			\limsup_{n\to\infty}
			\frac{X_n}{\log n} 
			=1
		\right)	
		=1.
	\end{equation}

Este resultado é as vezes considerado surpreendente.
Esta tendência está associada ao erro comum que alguns
matemáticos cometem pensando que sequências iid 
são ``moralmente constantes'' e portanto a divisão 
por $\log n$ deveria fazer com que o limite fosse
zero. 
Entretanto muito frequentemente a sequência $\{X_n\}$
toma valores que vão aumentando com o índice e 
este aumento é aproximadamente dado por $\log n$.

Para provar este resultado vamos precisar de um fato 
bastante simples que se $\{A_n\}$ é uma sequência 
de eventos em um espaço de probabilidade $(\Omega,\F,\P)$
tal que $\P(A_n)=1$ então $\P(\cap_{n=1}^{\infty} A_n)=1$,
veja Lista 1 de exercícios.


\medskip

\noindent
{\bf Prova de \eqref{exemplo-seq-exp-par-1-indep-cresce-logn} }.
Se $\omega\in \Omega$ é tal que 
	\[
		\limsup_{n\to\infty}
		\frac{X_n(\omega)}{\log n} 
		=1,
	\]
isto significa que 
\begin{itemize}
	\item[a)]
	para todo $\varepsilon>0$ temos que se $n\geq n_0\equiv n_0(\omega)$ então
	$\displaystyle\frac{X_n(\omega)}{\log n}\leq 1+\varepsilon$.
	
	
	\item[b)]
	para todo $\varepsilon>0$ para infinitos valores de $n$ 
	temos que 	
	$1-\varepsilon<\displaystyle\frac{X_n(\omega)}{\log n}$.
		
\end{itemize}




Observe que o item a) diz que não existe nenhuma 
subsequência com limite maior que $1+\varepsilon$ enquanto
b) diz que sempre existe uma subsequência limitada inferiormente
por $1-\varepsilon$. 




Para qualquer sequência $\varepsilon_k\downarrow 0$, 
note que temos a seguinte igualdade
de conjuntos
\begin{align*}
\left\{ \limsup_{n\to\infty} \frac{X_n}{\log n} =1  \right\}
&
\\[0.3cm]
&
\hspace*{-2cm}
=\bigcap_{k=1}^{\infty}
\left[ 
	\liminf_{n\to\infty} 
		\left\{ 
			\frac{X_n}{\log n} \leq 1+\varepsilon_k 
		\right\}  
\right]
\quad
\bigcap
\quad
\bigcap_{k=1}^{\infty}
\left[ 
	\limsup_{n\to\infty} 
		\left\{ 
			\frac{X_n}{\log n} > 1-\varepsilon_k  
		\right\}  
\right].
\end{align*}
%
%
%
%
Para provar que o lado direito acima tem probabilidade
um, basta mostrar que cada um dos eventos 
entre colchetes tem probabilidade um. 

Para todo $k\in\N$ fixado temos 
\begin{align*}
\sum_{n=1}^{\infty} 
\P\left(  
	\frac{X_n}{\log n} > 1-\varepsilon_k 
\right)
&=
\sum_{n=1}^{\infty} 
\P\left(  
	X_n > (1-\varepsilon_k)\log n  
\right)
\\
&=
\sum_{n=1}^{\infty} 
\exp\left(  
	 -(1-\varepsilon_k)\log n  
\right)
\\
&=
\sum_{n=1}^{\infty} 
\frac{1}{n^{1-\varepsilon_k}}
\\
&=
\infty,
\end{align*}
onde na última desigualdade usamos que $k$ 
está fixado. Assim segue da Lei Zero-Um de Borel
que 
	\[
		\P\left( 
			\limsup_{n\to\infty} 
			\left\{ 
				\frac{X_n}{\log n} > 1-\varepsilon_k  
			\right\}  
		\right)
		=
		1.
	\]

De maneira análoga podemos verificar que
\begin{align*}
\sum_{n=1}^{\infty} 
\P\left(  
	\frac{X_n}{\log n} > 1+\varepsilon_k 
\right)
&=
\sum_{n=1}^{\infty} 
\P\left(  
	X_n > (1+\varepsilon_k)\log n  
\right)
\\
&=
\sum_{n=1}^{\infty} 
\exp\left(  
	 -(1+\varepsilon_k)\log n  
\right)
\\
&=
\sum_{n=1}^{\infty} 
\frac{1}{n^{1+\varepsilon_k}}
\\
&<
\infty.
\end{align*}
Aplicando novamente a Lei Zero-Um de Borel
temos que 
	\[
		\P\left( 
			\limsup_{n\to\infty} 
			\left\{ 
				\frac{X_n}{\log n} > 1+\varepsilon_k  
			\right\}  
		\right)
		=
		0.
	\]
Tomando complementar obtemos 
	\[
		\P\left( 
			\liminf_{n\to\infty} 
			\left\{ 
				\frac{X_n}{\log n} \leq 1+\varepsilon_k  
			\right\}  
		\right)
		=1.
	\]
O que encerra a demonstração.















\section{Vetores Aleatórios em $\R^n$}

Se consideramos $\R^n$ como um espaço munido de uma 
topologia $\tau$ então a $\sigma$-álgebra de Borel 
é a $\sigma$-álgebra gerada pelos conjuntos abertos,
isto é, $\sigma(\tau)$.
Nos interessa apenas o caso onde $\tau$ é induzida 
pela métrica euclidiana e neste caso a 
$\sigma$-álgebra de Borel em $\R^n$ é 
$\sigma$-álgebra gerada pela coleção 
dos retângulos da forma 
	\[
		(a_1,b_1) \times\ldots\times (a_n,b_n)
		\equiv
		\{
		(x_1,\ldots,x_n)\in\R^n\ ; a_i<x_i<b_i,\ i=1,\ldots,n
		\},
	\]
onde $a_i,b_i\in \R$. Esta $\sigma$-álgebra será denotada
por $\mathscr{B}(\R^n)$.



\begin{definicao}[Vetor Aleatório]
	Seja $(\Omega,\F,\P)$ um espaço de probabilidade.
	Um vetor aleatório é uma aplicação $\mathbf{X}:\Omega\to\R^n$,
	tal que para todo boreliano $E\in \R^n$ temos que 
	$\mathbf{X}^{-1}(E)\in \F$.
\end{definicao}


\begin{exercicio}
Seja $(\Omega,\F,\P)$ um espaço de probabilidade e 
$\mathbf{X}$ um vetor aleatório em $\R^n$.  
Mostre que para qualquer coleção 
$\mathcal{C}$ de subconjuntos de $\Omega$ que 
$
\mathbf{X}^{-1}(\sigma(\mathcal{C}))
=
\sigma(\mathbf{X}^{-1}(\mathcal{C}))
$
\end{exercicio}


Segue do exercício acima que uma
aplicação $\mathbf{X}:\Omega\to\R^n$ é um vetor aleatório
em $(\Omega,\F,\P)$ se, e somente se, 
$\mathbf{X}^{-1}(R)\in \F$ para todo retângulo $R\subset \R^n$.   



\begin{proposicao}\label{prop-caracterizacao-vetor-aleatorio}
Seja $(\Omega,\F,\P)$ um espaço de probabilidade.
Uma aplicação $\mathbf{X}:\Omega\to\R^n$ 
dada por $\mathbf{X}(\omega)=(X_1(\omega),\ldots,X_n(\omega))$
é um vetor aleatório, se e somente se, $X_i:\Omega\to\R$ 
para todo $i=1,\ldots n$ é uma v.a. real.
\end{proposicao}


\begin{proof}
Vamos supor que $\mathbf{X}$ é um vetor aleatório.
Considere as projeções $\pi_i:\R^n\to \R$ dadas por 
$\pi_i(x_1,\ldots,x_n)=x_i$ e seja $I=(-\infty,a)$,
onde $a\in\R$. Já que $X_i = \pi_i\circ \mathbf{X}$,
temos que 
\[
	X_i^{-1}\big((-\infty,a)\big) 
	= 
	\mathbf{X}^{-1}\Big( \pi_i^{-1}\big( (-\infty,a)\big)\Big).
\]
Já que 
$\pi_i^{-1}\big( (-\infty,a)\big)
 = 
 \R\times\ldots\times\R\times (-\infty,a)\times\R\times\ldots\times\R
 \in
 \mathscr{B}(\R^n)
$
e $\mathbf{X}^{-1}(\mathscr{B}(\R^n))\subset \F$ temos que 
que $X_i$ é variável aleatória.

Para provar a recíproca primeiro lembramos que
a $\sigma$-álgebra dos gerada pelos 
retângulos abertos é igual a $\mathscr{B}(\R^n)$. Portanto 
segue do comentário que está logo acima do enunciado
desta proposição que é suficiente provar que 
$\mathbf{X}^{-1}(R)\in F$ para todo retângulo $R$ em 
$\R^n$. 

Supondo que $X_1,\ldots,X_n$ são variáveis aleatórias e 
fixando um retângulo aberto $R$ da forma 
$R=I_1\times\ldots\times I_n$, onde $I_j=(a_j,b_j)$ com $a_j<b_j$
temos que 
	\[
	\mathbf{X}^{-1}(R) 
	= 
	\bigcap_{j=1}^n X_j^{-1}(I_j).
	\]	
Já que estamos assumindo que 
$X_j$ para todo $j=1,\ldots,n$ é v.a.
então $X_j^{-1}(I_j)\in \F$, logo $\mathbf{X}^{-1}(R)\in \F$,
como $R$ é um retângulo arbitrário segue da observação feita 
acima que a prova está concluída.
\end{proof}





\begin{teorema}
Sejam $(\Omega,\F,\P)$ um espaço de probabilidade
e $X_1,\ldots,X_n$ variáveis aleatórias {\bf simples}. Então
\begin{itemize}
	\item[a)]
	A $\sigma$-álgebra $\sigma(X_1,\ldots,X_n)$ 
	consiste exatamente dos conjuntos da forma
	\[
		\{(X_1,\ldots,X_n)\in H\} 
		\equiv
		\{\omega\in\Omega; (X_1(\omega),\ldots,X_n(\omega))\in H\},
	\]
	onde $H\subset \R^n$. 
	Observamos que nesta representação, 
	podemos considerar apenas $H$'s finitos.
	
	\item[b)]
	Uma variável aleatória $Y$ é mensurável segundo 
	$\sigma(X_1,\ldots,X_n)$ se, e somente se,
	$Y=f(X_1,\ldots,X_n)$ para alguma função 
	$f:\R^n\to\R$.	
\end{itemize}
\end{teorema}


\begin{proof}
Prova do item a). Seja $\mathcal{C}$ a coleção de todos os conjuntos da forma 
$\{(X_1,\ldots,X_n)\in H\}$, quando $H$ varia sobre todos os 
subconjuntos de $\R^n$. 
Dentre este subconjuntos estão todos da forma 
$\{(X_1,\ldots,X_n)=(x_1,\ldots,x_n)\}=\cap_{i=1}^n \{X_i=x_i\}$,
que certamente pertencem a $\sigma(X_1,\ldots,X_n)$.
Como $X_1,\ldots,X_n$ são v.a.'s simples, segue que os conjuntos da 
forma $\{(X_1,\ldots,X_n)\in H\}$, com $H\in \R^n$ são uniões 
finitas de elementos de $\sigma(X_1,\ldots,X_n)$.
Portanto $\mathcal{C}\subset \sigma(X_1,\ldots,X_n)$.


Por outro lado, temos que $\mathcal{C}$ é uma $\sigma$-álgebra,
pois: 
\begin{itemize}
\item
$\{(X_1,\ldots,X_n)\in \R^n\}=\Omega$; 

\item
$\{(X_1,\ldots,X_n)\in H\}^c = \{(X_1,\ldots,X_n)\in H^c\}$;

\item 
$
\left\{ (X_1,\ldots,X_n)\in \bigcup_{n\in \N} H_n \right\} 
=
\bigcup_{n\in \N}\{(X_1,\ldots,X_n)\in H_n\}.
$
\end{itemize}
Observamos que cada $X_i$ é mensurável com respeito a
$\mathcal{C}$. De fato, $\{X_i=x\}$ pode ser expresso 
como uma união finita de conjuntos da forma 
$\{(X_1,\ldots,X_n)=(x_1,\ldots,x_n)\}$, com $x_i=x$.
Logo $\sigma(X_1,\ldots,X_n)\subset \mathcal{C}$, 
o que junto com a continência demonstrada acima
implica que $\sigma(X_1,\ldots,X_n)= \mathcal{C}$.

Já que a interceptar $H$ com a imagem do 
vetor $(X_1,\ldots,X_n)$ (que é composta por um número 
finito de pontos de $\R^n$) não modifica a coleção 
$\{(X_1,\ldots,X_n)\in H\}$, podemos considerar 
que $H$ é finto.  



Prova do item b). Suponha, para todo $\omega\in\Omega$, que
$Y(\omega)=f(X_1(\omega),\ldots,X_n(\omega))$ para
alguma função $f:\R^n\to\R$. 
Já $\{Y=y\}$ pode ser escrito na forma $\{(X_1,\ldots,X_n)\in H\}$,
onde $H=\{(x_1,\ldots,x_n)\in \R^n ;\ f(x_1,\ldots,x_n)=y\}$
segue que $Y$ é mensurável segundo $\sigma(X_1,\ldots,X_n)$.


Reciprocamente, assuma que $Y$ é $\sigma(X_1,\ldots,X_n)$-mensurável.
Seja $y_1,\ldots,y_r$ todos os valores que a variável aleatória 
$Y$ assume. Pelo item a) podemos afirmar que existem 
$H_1,\ldots,H_r\subset \R^n$ tais que 
	\[
	\{\omega\in\Omega;\ Y(\omega)=y_i\}
	=
	\{\omega\in\Omega;\ (X_1(\omega),\ldots,X_n(\omega))\in H_i\}.
	\]
Agora defina a seguinte função $f:\R^n\to\R$
	\[
		f(x_1,\ldots,x_n)=\sum_{i=1}^r y_i 1_{H_i}(x_1,\ldots,x_n).
	\] 
Embora {\it a priori} não seja sempre verdadeiro que $H_1,\ldots,H_r$
são mutuamente disjuntos, temos que se 
$(X_1(\omega),\ldots,X_n(\omega))\in H_i\cap H_j$,
então $Y(\omega)=y_i$ e $Y(\omega)=y_j$ o que é impossível.
Portanto cada ponto da forma $(X_1(\omega),\ldots,X_n(\omega))$
pertence a exatamente um dos conjuntos $H_i$ e deste fato segue 
que $f(X_1(\omega),\ldots,X_n(\omega)=Y(\omega)$.
\end{proof}






















\begin{teorema}\label{teo-f(X1,...,X_n)-sigma(X1,...,X_n)}
	Sejam $(\Omega,\F,\P)$ um espaço de probabilidade,
	$X_1,\ldots,X_n$ variáveis aleatórias, então 
\begin{itemize}
	\item[a)]
	A $\sigma$-álgebra $\sigma(X_1,\ldots,X_n)$ 
	consiste exatamente dos conjuntos da forma
	\[
		\{(X_1,\ldots,X_n)\in E\} 
		\equiv
		\{\omega\in\Omega; (X_1(\omega),\ldots,X_n(\omega))\in E\},
	\]
	onde $E\in \mathscr{B}(\R^n)$.
	
	\item[b)]
	Uma variável aleatória $Y$ é mensurável segundo 
	$\sigma(X_1,\ldots,X_n)$ se, e somente se,
	$Y=f(X_1,\ldots,X_n)$ para alguma função 
	$f:\R^n\to\R$ borel mensurável,
	isto é, $f^{-1}(B)\in\mathscr{B}(\R^n)$ para todo
	$B\in\mathscr{B}(\R)$.
\end{itemize}
\end{teorema}


\begin{proof}
Prova do item a). 
A coleção $\mathcal{C}$ de todos os subconjuntos 
de $\Omega$ da forma 
$\{(X_1,\ldots,X_n)\in E\}$, onde $E\in\mathscr{B}(\R^n)$
é uma $\sigma$-álgebra. 
Pela Proposição \ref{prop-caracterizacao-vetor-aleatorio}
temos que a aplicação $\omega\mapsto (X_1(\omega),\ldots,X_n(\omega))$
é mensurável segundo a $\sigma$-álgebra $\sigma(X_1,\ldots,X_n)$.
Logo $\mathcal{C}\subset \sigma(X_1,\ldots,X_n)$. 
Como $\omega\mapsto (X_1(\omega),\ldots,X_n(\omega))$ é claramente 
mensurável segundo $\mathcal{C}$ segue que 
$\sigma(X_1,\ldots,X_n)\subset\mathcal{C}$ e portanto o 
item a) está provado.


Prova do item b).
Se $Y=f(X_1,\ldots,X_n)$ então $Y=f\circ \mathbf{X}$,
onde $\mathbf{X}(\omega)=(X_1(\omega),\ldots,X_n(\omega))$.
Logo para todo $B\in\mathscr{B}(\R)$ temos que 
$Y^{-1}(B)= \mathbf{X}^{-1}(f^{-1}(B))= \mathbf{X}^{-1}(E)$
que pelo item a) implica que $Y$ 
é $\sigma(X_1,\ldots,X_n)$-mensurável.


Para provar a recíproca, suponha inicialmente 
que $Y$ é uma variável aleatória simples assumindo 
os valores $y_1,\ldots,y_m$. Por hipótese temos que 
$
A_i
=
\{\omega\in\Omega: Y(\omega)=y_i\}
\in 
\sigma(X_1,\ldots,X_n).
$
Pelo item a) temos que $A_i=\{(X_1,\ldots,X_n)\in E_i\}$ 
para algum boreliano $E_i$ de $\R^n$. Defina a função 
$f:\R^n\to\R$ dada por 
	\[
	f(x_1,\ldots,x_n)=\sum_{i=1}^r y_i 1_{E_i}(x_1,\ldots,x_n).
	\]
Note que $f$ é Borel mensurável. 
Já que os conjuntos $A_i$'s são disjuntos nenhum ponto 
de $\R^n$ da forma $\mathbf{X}(\omega)$ pertence a mais 
de um $E_i$ 
(observe que não estamos afirmando que os conjuntos 
$E_i$'s são mutuamente disjuntos)
e portanto temos $f(\mathbf{X}(\omega))=Y(\omega)$.


Para provar o teorema no caso geral lembramos que 
se $Y$ é uma v.a. então 
existe uma sequência de v.a.'s $\{Y_n\}$ simples
tal que $Y_n(\omega)\to Y(\omega)$, 
para todo $\omega\in\Omega$
(para provar este fato basta aplicar 
o Teorema \ref{teo:aproximacao-monotona-por-func-simples}
às partes positiva e negativa de $Y$).
Para cada $n\in\N$ segue do argumento acima que 
existe $f_n:\R^n\to\R$ tal que $Y_n=f_n(\mathbf{X})$.
Seja $M\subset \R^n$ o conjunto dos pontos $x\in\R^n$ 
tais que a sequência $\{f_n(x)\}$ converge.
Uma vez que 
 \[
 	M
 	=
 	\left\{
 		x\in\R^n:\ \limsup_{n\to\infty}f_n(x)=\liminf_{n\to\infty}f_n(x)
 	\right\}\in \mathscr{B}(\R^n).
 \]
a seguinte função  
	\[
	f(x_1,\ldots,x_n)
	=
	\begin{cases}
	\displaystyle
	\lim_{n\to\infty} f_n(x_1,\ldots,x_n),& \text{se}\ (x_1,\ldots,x_n)\in M;
	\\[0.3cm]
	0,&\text{se}\ (x_1,\ldots,x_n)\in \R^n\setminus M.
	\end{cases}
	\]
é Borel mensurável pois $\lim_{n\to\infty} f_n1_{M}$ e $f_n1_{M}$ são 
Borel mensuráveis.
Observe que para cada $\omega\in\Omega$ temos que 
$Y(\omega)=\lim_{n\to\infty} f_n(\mathbf{X}(\omega))$.
Logo $\mathbf{X}(\omega)\in M$ e portanto temos finalmente
que 
	\[
	Y(\omega) 
	=
	\lim_{n\to\infty} f_n(\mathbf{X}(\omega))
	=
	f(\mathbf{X}(\omega)).
	\] 
\end{proof}





















\section{Lei Zero-Um de Komolgorov}

Seja $(\Omega,\F,\P)$ um espaço de probabilidade e 
$\{X_n\}$ uma sequência de v.a.'s. 
Para cada $n\in\N$ defina
	\[
		\F_n' = \sigma( X_{n+1},X_{n+2},\ldots).
	\] 
A $\sigma$-álgebra caudal $\mathcal{T}$
é definida como sendo 
	\[
		\mathcal{T}
		=
		\bigcap_{n=1}^{\infty}
		\F_n'
		=
		\lim_{n\to\infty} \sigma(X_n,X_{n+1},\ldots).
	\]
Um evento $A\in\mathcal{T}$ é chamado de evento caudal.
Uma variável aleatória mensurável com respeito a $\mathcal{T}$
é chamada de variável aleatória caudal. 
No que segue apresentamos
alguns exemplos de eventos e v.a.'s caudais.

\begin{exemplo}
	Seja $(\Omega,\F,\P)$ um espaço de probabilidade e
	$\{X_n\}$ uma sequência de v.a.'s. Então o evento 
		\[
			\left\{
			\omega\in \Omega: \sum_{n=1}^{\infty} X_n(\omega)<\infty
			\right\}
		\]
	é um evento caudal.
	Para prova este fato primeiro observamos 
	que para todo $m\in\N$ temos a seguinte 
	igualdade de conjuntos 
		\[
			\left\{
			\omega\in \Omega: \sum_{n=1}^{\infty} X_n(\omega)<\infty
			\right\}
			=
			\left\{
			\omega\in \Omega: \sum_{n=m}^{\infty} X_n(\omega)<\infty
			\right\}.
		\]
	Fixado $m\in \N$ temos que 
		\[
		\sum_{n=m}^{\infty} X_n(\omega)
		=
		\lim_{k\to\infty} \sum_{n=m}^{m+k} X_n(\omega).
		\]
	Pelo Teorema \ref{teo-f(X1,...,X_n)-sigma(X1,...,X_n)}
	para qualquer $m\in\N$ 
	temos que $\sum_{n=m}^{m+k} X_n \in \sigma(X_{m},\ldots,X_{m+k})
	\subset \sigma(X_{m},X_{m+1},\ldots)$. 
	Logo
	$
	\lim_{k\to\infty}\sum_{n=m}^{m+k} X_n
	\in
	\sigma(X_{m},X_{m+1},\ldots),
	$
	para todo $m\in \N$. 
	Daí segue que 
		\[
			\left\{
			\omega\in \Omega: \sum_{n=1}^{\infty} X_n(\omega)<\infty
			\right\}
			\in
			\mathcal{F}_m'
			\qquad
			\forall m\in\N.			
		\]
	O que implica imediatamente pela definição que o evento acima
	é um evento caudal.
\end{exemplo}


