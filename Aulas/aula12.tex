\chapter[Aula 12]{Teorema de Radom-Nikodým}
\chaptermark{}


\section{O Teorema da Decomposição de Hahn}

Lembramos que uma carga em  $(\Omega,\F)$ é uma 
função de conjuntos $\lambda:\F\to\R$ tal que
$\lambda(\emptyset)=0$ e $\lambda$ 
é $\sigma$-aditiva, isto é, se $\{E_n\}$ é uma
sequência de conjuntos mutuamente disjuntos de $\F$ 
então 
\[
\lambda\left(\bigcup_{n=1}^{\infty}E_n\right)
=
\sum_{n=1}^{\infty} \lambda(E_n).
\]
Como já mencionamos o lado esquerdo da igualdade acima é 
independente de qualquer reordenamento que se
faça da coleção $\{E_n\}$ e portanto a série que aparece a 
direita é incondicionalmente somável. 

Exemplos importantes de cargas, são aquelas 
dadas por 
\[
\lambda(E)=\int_{E} f\, d\mu,
\]
onde $f\in L^1(\Omega,\F,\mu)$. A prova de que 
a função de conjuntos $\lambda$, definida acima, é uma 
carga foi dada no Lema \ref{lema-int-f-dmu-define-uma-carga}.

\begin{exercicio}
Seja $(\Omega,\F)$ um espaço mensurável e $\lambda:\F\to\R$ 
uma carga. Mostre que: 
\begin{enumerate}
	\item 
	se $\{E_n\}_{n\in\mathbb{N}}$ é uma sequência crescente
	($E_{n}\subseteq E_{n+1} \ \forall n\in\mathbb{N}$) de 
	elementos de $\F$ então 
		\[
		\lim_{n\to\infty} \lambda\left( \bigcup_{k=1}^{n} E_k \right)
		=
		\lambda\left( \bigcup_{k=1}^{\infty} E_k \right).
		\]
	
	\item 
	se $\{E_n\}_{n\in\mathbb{N}}$ é uma sequência decrescente
	($E_{n+1}\subseteq E_{n} \ \forall n\in\mathbb{N}$) de 
	elementos de $\F$ então 
	\[
	\lim_{n\to\infty} \lambda\left( \bigcap_{k=1}^{n} E_k \right)
	=
	\lambda\left( \bigcap_{k=1}^{\infty} E_k \right).
	\]	 
\end{enumerate}
\end{exercicio}



\begin{definicao}
	Sejam $(\Omega,\F)$ um espaço mensurável e $\lambda:\F\to\mathbb{R}$
	uma carga. Um conjunto $P\in \F$ é chamado de {\bf conjunto positivo},
	com respeito a carga $\lambda$, se $\lambda(P\cap E)\geq 0$ para todo 
	$E\in \F$. Analogamente, dizemos que 
	um conjunto $N\in \F$ é um {\bf conjunto negativo},
	com respeito a carga $\lambda$, se $\lambda(N\cap E)\leq 0$ para todo 
	$E\in \F$.
	Um conjunto $N\in \F$ é dito {\bf conjunto nulo}, com respeito a $\lambda$, 
	se $\lambda(N\cap E) = 0$ para todo 
	$E\in \F$.	
\end{definicao}


Observe que dizer que um conjunto $P\in \F$ é positivo,
com respeito a $\lambda$, é  equivalente a dizer que 
todos seus subconjuntos $\F$-mensuráveis têm carga
não negativa. Afirmação análoga pode ser feita para 
conjuntos negativos e nulos.

\begin{exercicio}
	Sejam $(\Omega,\F)$ um espaço mensurável, $\lambda:\F\to\mathbb{R}$
	uma carga e $P$ um conjunto positivo, com respeito a $\lambda$. 
	Mostre que se $P'\subset P$ e $P'\in \F$ então $P'$ é um 
	conjunto positivo, com respeito a $\lambda$.
\end{exercicio}



\begin{exercicio}
	Sejam $(\Omega,\F)$ um espaço mensurável, $\lambda:\F\to\mathbb{R}$
	uma carga, $P_1$ e $P_2$ conjuntos positivos, 
	com respeito a $\lambda$. 
	Mostre que se $P_1\cup P_2$  é um 
	conjunto positivo, com respeito a $\lambda$.
\end{exercicio}




\begin{teorema}[Teorema da Decomposição de Hahn]
\label{teo-dec-Hahn}
Sejam $(\Omega,\F)$ um espaço mensurável e $\lambda:\F\to\mathbb{R}$
uma carga. Então existem conjuntos $P$ e $N$ tais que 
$\Omega = P\cup N,\  P\cap N=\emptyset$, além do mais 
$P$ e $N$ são conjuntos positivo e negativo, respectivamente.
\end{teorema}


\begin{proof}
Note que a coleção $\mathscr{P}$ de todos os conjuntos positivos, 
com respeito a $\lambda$ é certamente não vazia pois,
o conjunto $\emptyset$ está nesta coleção. Desta forma 
podemos definir 
\[
\alpha = \sup \{ \lambda(A): A\in\mathscr{P}   \}.
\]
Por definição de supremo, podemos garantir a existência de uma
sequência $\{A_n\}_{n\in\mathbb{N}}$ em $\mathscr{P}$ tal que 
$\alpha = \lim_{n\to\infty} \lambda(A_n)$.
Seja $P=\cup_{n\geq 1}A_n$. Já que a união de conjuntos 
positivos é positiva podemos assumir que $A_n\subseteq A_{n+1}$.
Observe que $P$ é um conjunto positivo, com respeito a $\lambda$
pois, para todo $E\in\F$ temos 
\[
\lambda(P\cap E)
=
\lambda\left( \bigcup_{n=1}^{\infty} A_n \ \cap E \right)
=
\lambda\left( \bigcup_{n=1}^{\infty} (A_n \ \cap E) \right)
=
\lim_{n\to\infty} \lambda(A_n \ \cap E)
\geq 
0.
\]
Já que estamos assumindo que $\{A_n\}_{n\in\mathbb{N}}$ é 
crescente segue que 
\[
\alpha = \lim_{n\to\infty} \lambda(A_n)= \lambda(P)<+\infty.
\]

Já que $P$ é positivo, com respeito a $\lambda$, a 
prova do teorema está concluída se mostramos que 
$N=\Omega-P$ é um conjunto negativo, com respeito a 
$\lambda$. A prova deste fato será feita por contradição.

Suponha que $N$ não seja um conjunto negativo, com respeito 
a $\lambda$. Então podemos afirmar que existe um subconjunto 
mensurável $E\subset N$ tal que $\lambda(E)>0$. 
O conjunto $E$ não pode ser um conjunto positivo.
Caso contrário teríamos que $P\cup E$ é um conjunto 
positivo com $P$ e $E$ disjuntos e
$\lambda(P\cup E)=\lambda(P)+\lambda(E)>\alpha$
que é um contradição com a definição de $\alpha$.
Deste fato podemos concluir que $E$ possui pelo 
menos um subconjunto de carga negativa. 
Sejam $n_1\in \mathbb{N}$ o menor inteiro positivo para o qual 
existe $E_1\in \F$, com $E_1\subset E$ 
satisfazendo $\lambda(E_1)\leq -1/n_1<0$.
Usando a aditividade da carga $\lambda$ segue que 
$\lambda(E-E_1)=\lambda(E)-\lambda(E_1)>\lambda(E)>0$.
Observe que $E-E_1$ não pode ser um conjunto positivo,
com respeito a $\lambda$, já que ele é disjunto 
de $P$ e que a desigualdade acima implica em 
$\lambda(P\cup (E-E_1))= \lambda(P)+\lambda(E-E_1) >\alpha$,
o que é um absurdo. 
Desta forma, concluímos que $E-E_1$ possui algum subconjunto de 
carga negativa. Seja $n_2\in\mathbb{N}$ o menor inteiro para o
qual existe $E_2\subset E-E_1$ com $E_2\in \F$ e 
$\lambda(E_2)\leq -1/n_2$. Analogamente, podemos 
argumentar que $E-(E_1\cup E_2)$ não pode ser um conjunto 
positivo e portanto podemos construir 
$n_3\in\mathbb{N}$ com $n_3$ sendo o menor 
natural para o qual existe um conjunto 
$E_3\subset E-(E_1\cup E_2)$ com $E_3\in \F$ e 
$\lambda(E_3)<-1/n_3$. Procedendo uma indução 
formal podemos obter uma sequência de conjuntos 
$\F$-mensuráveis disjuntos $\{E_n\}_{n\in\mathbb{N}}$
tal que $\lambda(E_k)\leq -1/n_k$.
Seja $F=\cup_{n\geq 1} E_n$. Como os conjuntos $E_n$'s são disjuntos
temos que 
\[
\lambda(F)
=
\sum_{k=1}^{\infty}\lambda(E_k)
\leq 
\sum_{k=1}^{\infty} -\frac{1}{n_k}
\leq 
0.
\]
Portanto a série numérica que aparece acima é convergente.
Desta forma podemos garantir que $n_k\to \infty$, quando $k\to\infty$.

Agora com auxílio do conjunto $F$ vamos mostrar que o 
conjunto $E-F$ é um conjunto positivo e assim obter uma contradição.
Primeiro vamos argumentar que qualquer subconjunto 
$G\subset E-F$ tem carga nula ou positiva. 
De fato, suponha que $\lambda(G)<0$. 
Pelo fato de $n_k\to\infty$, quando $k\to\infty$ 
podemos encontrar $k\in\mathbb{N}$ tal que 
$\lambda(G)<-1/(n_k-1)$. Como $G\in E-F$ temos
uma contradição com a definição de $n_k$
pois, este deveria ser o menor inteiro tal que 
$E-(E_1\cup\ldots\cup E_{k-1})$
contém um subconjunto com carga menor ou igual 
a $-1/n_k$. Portanto todo subconjunto mensurável 
de $G\subset E-F$ tem carga não-negativa.
Assim temos que $E-F$ é um conjunto positivo,
com respeito a $\lambda$. 
Já que $\lambda(F)\leq 0$ e $\lambda(E)>0$ temos  
$\lambda(E-F)=\lambda(E)-\lambda(F)>0$.
Daí obtemos a contradição desejada pois 
$E-F$ é um conjunto positivo, com respeito a $\lambda$,
com carga estritamente positiva e disjunto de $P$. De fato,
$E-F\cup P$ é um conjunto positivo, com respeito a $\lambda$,
satisfazendo $\lambda(E-F\cup P)= \lambda(E-F)+\lambda(P)>\alpha$
e que contraria a definição de $\alpha$. 

Da análise acima segue que $N=\Omega-P$ é um 
conjunto negativo, com respeito a $\lambda$ e 
portanto temos a decomposição desejada.
\end{proof}





\begin{observacao}
	A decomposição de $\Omega=P\cup N$, com $P\cap N=\emptyset$, 
	fornecida pelo Teorema da Decomposição 
	de Hahn é chamada de {\bf decomposição de Hahn}. 
	Em geral, dado um espaço mensurável $(\Omega,\F)$ e 
	uma carga $\lambda$ definida neste espaço a decomposição de
	Hahn de $\Omega$ não será única. Na verdade se existir um
	conjunto nulo $N$, com respeito a $\lambda$, não vazio 
	então $P\cup M$ e $N-M$ é também uma decomposição de 
	Hahn de $\Omega$.
\end{observacao}

 









\section{O Teorema da Decomposição de Jordan}

\begin{lema}\label{lema-dec-jordan-aux1}
	Sejam $(\Omega,\F)$ um espaço mensurável e $\lambda:\F\to\mathbb{R}$
	uma carga. Suponha que $\{P_1,N_1\}$ e $\{P_2,N_2\}$ sejam
	decomposições de Hahn de $\Omega$, ambas com respeito a mesma
	carga $\lambda$. Então para todo $E\in F$ temos 
	\[
	\lambda(E \cap P_1) = \lambda(E \cap P_2)
	\qquad\text{e}\qquad
	\lambda(E \cap N_1) = \lambda(E \cap N_2)
	\]
\end{lema}

\begin{proof}
Já que $E\cap (P_1-P_2)$ está contido em $P_1$ e $N_2$
temos que $\lambda(E\cap(P_1-P_2) )=0$, ou seja,
$\lambda(E\cap P_1\cap P^c_2)=0$.
Analogamente 
temos $\lambda(E\cap P^c_1\cap P_2) = 0$.
Usando a aditividade finita da carga $\lambda$ 
e as decomposições 
$E\cap P_1 = (E\cap P_1\cap P_2) \cup (E\cap P_1\cap P^c_2) $ 
e 
$E\cap P_2 = (E\cap P_2\cap P_1) \cup (E\cap P_2\cap P^c_1) $ 
obtemos as seguintes igualdades:
$
\lambda(E\cap P_1)=\lambda(E\cap P_1\cap P_2)
$ 
e
$
\lambda(E\cap P_2)=\lambda(E\cap P_1\cap P_2).
$
De onde segue que $\lambda(E\cap P_1)= \lambda(E\cap P_2)$.
A igualdade $\lambda(E \cap N_1) = \lambda(E \cap N_2)$
é provada de maneira totalmente análoga.
\end{proof}







\begin{definicao}
Sejam $(\Omega,\F)$ um espaço mensurável, $\lambda:\F\to\mathbb{R}$
uma carga e $\{P,N\}$ uma decomposição de Hahn de $\Omega$, 
com respeito a $\lambda$. Definimos respectivamente as
variações positiva, negativa e total da carga $\lambda$ 
como sendo as medidas positivas (finitas) dadas por 
\[
\lambda^+(E)
=
\lambda(E\cap P),
\quad
\lambda^-(E)
=
-\lambda(E\cap N)
\quad\text{e}\quad
|\lambda|(E) = \lambda^+(E)+\lambda^-(E).
\]
\end{definicao}

Observe que o lema anterior garante que as variações 
positiva, negativa e total de uma carga são 
medidas que estão bem definidas independentemente 
da escolha particular da decomposição de Hahn de $\Omega$.


\begin{teorema}[Teorema da Decomposição de Jordan]
\label{teo-dec-Jordan}
Sejam $(\Omega,\F)$ um espaço mensurável, $\lambda:\F\to\mathbb{R}$
uma carga. Então $\lambda$ é a diferença de duas medidas finitas
sobre $\Omega$. Mais precisamente, $\lambda = \lambda^+-\lambda^-$.
Além do mais, se $\lambda = \mu-\nu$, onde $\mu$ e $\nu$
são medidas finitas então temos para todo $E\in\F$ que 
\[
\lambda^+(E)\leq \mu(E)
\quad\text{e}\quad
\lambda^-(E)\leq \nu (E).
\]
\end{teorema}



\begin{proof}
A prova que $\lambda$ é a diferença de duas medidas 
é essencialmente feita no Lema \ref{lema-dec-jordan-aux1}.
Para verificar isto, basta considerar uma decomposição de 
Hahn de $Omega$, com respeito a $\lambda$ e usar a 
aditividade finita de $\lambda$ para verificar que 
para todo $E\in\F$ temos 
$\lambda(E) = \lambda(E\cap P)+\lambda(E\cap N)$
usando as definições de $\lambda^+$ e $\lambda^-$
concluímos imediatamente que $\lambda(E) = \lambda^+(E)-\lambda^-(E)$.

Vamos supor que $\lambda = \mu-\nu$, onde $\mu$ e $\nu$ são medidas.
Usando a definição de $\lambda^+$ e a não-negatividade de $\nu$ 
temos
\[ 
\lambda^+(E)
=
\lambda(E\cap P)
=
\mu(E\cap P)-\nu(E\cap P)
\leq
\mu(E\cap P)
\leq 
\mu(E).
\]
Analogamente, pela definição de 
$\lambda^-$ e a não-negatividade de $\mu$
segue que 
\[ 
\lambda^-(E)
=
-\lambda(E\cap N)
=
\nu(E\cap N)-\mu(E\cap N)
\leq
\nu(E\cap N)
\leq 
\nu(E).
\] 
 
\end{proof}






Como mencionamos acima um exemplo muito importante 
de carga são aquelas que são dadas por integrais
de uma função integrável com respeito a alguma medida.
Vamos mostrar no teorema abaixo que para tais cargas
temos uma maneira explicita de determinar as variações
positivas, negativa e total.


\begin{teorema}
Sejam $(\Omega,\F,\mu)$ um espaço de medida e 
$f\in L^1(\Omega,\F,\mu)$. Se $\lambda:\F\to\mathbb{R}$
é a carga definida por 
\[
\lambda(E)
=
\int_{E} f\, d\mu,
\ \ \forall \ E\in\F.
\]
Então para todo $E\in\F$ temos que  
\[
\lambda^+(E)
=
\int_{E} f^+\, d\mu,
\quad
%
\lambda^{-}(E)
=
\int_{E} f^{-}\, d\mu,
\quad \text{e}\quad
|\lambda|(E)
=
\int_{E} |f|\, d\mu.
\]
\end{teorema}


\begin{proof}
Sejam $P_f=\{\omega\in \Omega: f(\omega)\geq 0\}$
e $N_{f}=\{\omega\in\Omega: f(\omega)<0\}$.
Claramente $P_{f}$ e $N_f$ são conjuntos
$\F$-mensuráveis e formam uma partição de $\Omega$,
ou seja, $\Omega = P_f\cup N_f$ e $P_{f}\cap N_{f}=\emptyset$.
Já que para todo $E\in\F$ temos $\lambda(P_{f}\cap E)\geq 0$
e $\lambda(N_{f}\cap E)\leq 0$ podemos afimar que 
$\{P_{f},N_{f}\}$ é uma decomposição de Hahn de $\Omega$, 
com respeito a $\lambda$. 
Pela definição de variação positiva para todo $E\in\F$ temos 
\[
\lambda^+(E) 
=
\lambda(P_f\cap E)
=
\int_{P_{f}\cap E } f\, d\mu
=
\int_{E } 1_{P_{f} }f\, d\mu
=
\int_{E } f^+\, d\mu.
\]
Analogamente verificamos que 
$\lambda^-(E) =\int_{E } f^-\, d\mu$.
Da linearidade da integral segue que
$|\lambda|(E) =\int_{E } |f|\, d\mu$.
\end{proof}



\begin{definicao}\label{def-med-abs-cont.}
Sejam $(\Omega,\F)$ um espaço mensurável, $\lambda$ e $\mu$
duas medidas definidas sobre este espaço. 
Dizemos que $\lambda$ é {\bf absolutamente contínua} 
com respeito a $\mu$, se para todo $E\in \F$
tal que $\mu(E)=0$ temos que $\lambda(E)=0$.
Neste caso escrevemos $\lambda \ll \mu$.
Se $\lambda$ e $\mu$ são cargas sobre $(\Omega,\F)$,
dizemos que $\lambda$ é absolutamente contínua 
com respeito a $\mu$ se $|\lambda|\ll |\mu|$.
\end{definicao}







\begin{teorema}[Teorema de Radon-Nikodým]
\label{teo-radom-nikodym}
Seja $(\Omega,\F)$ um espaço mensurável. Suponha que 
$\lambda$ e $\mu$ sejam medidas $\sigma$-finitas sobre $\Omega$ 
tais que $\lambda\ll \mu$. Então existe uma função 
$\F$-mensurável não-negativa $f:\Omega\to\overline{\mathbb{R}}$
tal que para todo $E\in\F$ temos
\[
\lambda(E) 
= 
\int_{E} f\, d\mu.
\]
A função $f$ é {\bf única} no sentido que qualquer 
outra função $g$ que é $\F$-mensurável 
e satisfaz a igualdade acima 
para todo $E\in F$ é tal que $f=g \ \mu$-q.t.p. 
A função $f$ é chamada de derivada de Radon-Nikodým 
de $\lambda$ com respeito a $\mu$ e é muitas vezes 
denotada por $\displaystyle\left[ \frac{d\lambda}{d\mu}\right]$.
\end{teorema}


\begin{proof}
Primeiro vamos provar o teorema para o caso em que ambas
medidas são finitas. O caso $\sigma$ finito é provado 
em seguida usando procedimento padrão de aproximação.

Considere a seguinte coleção de funções 
\[
\mathscr{C}
=
\left\{
h:\Omega\to\overline{\mathbb{R}}
: h\ \text{é}\ \F-\text{mensurável e}\ 
\int_{E}h\, d\mu \leq \lambda(E), \ \forall\ E\in\F 
\right\}
\]
É fácil verificar que a coleção $\mathscr{C}$ é não-vazia
pois a função nula pertence a esta coleção.
Seja 
\[
M= \sup_{h\in\mathscr{C}} \int_{\Omega} h\, d\mu.
\]
Pela definição de supremo sabemos que deve existir 
alguma sequência $\{h_n\}_{n\in\mathbb{N}}$ de 
funções em $\mathscr{C}$ tal que 
\[
\lim_{n\to\infty} \int_{\Omega}h_n\, d\mu 
=
M.
\]
Para qualquer par de funções em $f,g\in \mathscr{C}$ e 
$E\in \F$ observe que temos 
\begin{align*}
\int_{E} \max\{f,g\}\, d\mu
&=
\int_{\{f\leq g\}\cap E} 
\!\!\!\!\max\{f,g\}\, d\mu
+
\int_{\{f>g\}\cap E} 
\!\!\!\!\max\{f,g\}\, d\mu
\\[0.3cm]
&=
\int_{\{f\leq g\}\cap E} 
\!\!\!\! g \, d\mu
+
\int_{\{f>g\}\cap E} 
\!\!\!\! f\, d\mu
\\[0.3cm]
&\leq
\lambda(\{f\leq g\}\cap E) 
+
\lambda(\{f> g\}\cap E)
\\[0.3cm]
&\leq
\lambda(E) 
\end{align*}
e logo $\max\{f,g\}\in \mathscr{C}$, 
para todo par de funções $f,g\in\mathscr{C}$. 

Para cada $n\in\mathbb{N}$ defina 
a função $f_n = \max\{h_k:1\leq k\leq n\}$.
Já que $\{h_n\}_{n\in\mathbb{N}}$ é uma sequência de 
funções em $\mathscr{C}$ segue
da propriedade estabelecida logo acima que
a sequência $\{f_n\}_{n\in\mathbb{N}}$ é formada  
por elementos de $\mathscr{C}$ e além do mais 
é uma sequência monótona.
Pela definição de $M$ e $\{f_n\}_{n\in\mathbb{N}}$
temos as seguintes desigualdades 
\[
\int_{\Omega} h_n\, d\mu
\leq
\int_{\Omega} f_n\, d\mu
\leq 
M.
\]
Já que o limite, quando $n\to\infty$, 
das integrais do lado esquerdo é igual a $M$
segue do Teorema do confronto que
\[
\lim_{n\to\infty}
\int_{\Omega} f_n\, d\mu
=
M.
\]

Como temos $f_n\leq f_{n+1}$ podemos definir uma função
$\F$-mensurável  $f:\Omega\to\overline{\mathbb{R}}$ tal que
para cada $\omega\in\Omega$ temos
$f(\omega) =\lim_{n\to\infty} f_n(\omega)$.
Usando o Teorema da Convergência Monótona podemos afirmar que 
para qualquer $E\in\F$ que 
\[
\int_{E} f\, d\mu
=
\lim_{n\to\infty}
\int_{E} f_n\, d\mu
\leq
\lambda(E).
\]
Desta desigualdade segue que $f\in\mathscr{C}$ e 
também que esta função maximiza a integral em $\Omega$
com respeito a $\mu$, isto é 
\[
\int_{\Omega} f\, d\mu 
=
\lim_{n\to\infty}
\int_{\Omega} f_n\, d\mu
=
M.
\]
Das observações feitas acima segue que a função de
conjuntos $\gamma:\F\to\mathbb{R}$ dada por 
\[
\gamma(E) 
=
\lambda(E) - \int_{E} f\, d\mu 
\]
é uma medida finita sobre $(\Omega,\F)$.
Nos resta apenas provar que $\gamma \equiv 0$
para garantir a existência da função $f$ afirmada
no enunciado do teorema.
Para fazer isto vamos supor 
por contradição que $\gamma(\Omega)>0$.
Sob esta hipótese e lembrando que $\mu(\Omega)<+\infty$, 
podemos garantir que existe $\varepsilon>0$ 
tal que $\gamma(\Omega)-\varepsilon \mu(\Omega)>0$.
Seja $\{P,N\}$ uma decomposição de Hanh da carga 
$\gamma-\varepsilon\mu$. Pela definição do conjunto 
$P$ segue que $\gamma(P\cap E)-\varepsilon\mu(P\cap E)\geq 0$
para todo $E\in \F$ e portanto obtemos a seguintes 
desigualdades
\begin{align*}
\lambda(E) 
= 
\gamma(E)+\int_{E} f\, d\mu
&\geq 
\gamma(P\cap E)+\int_{E} f\, d\mu
\\
&\geq
\varepsilon \mu(P\cap E)+\int_{E} f\, d\mu
\\
&=
\int_{E} (f+\varepsilon 1_{P})\, d\mu.
\end{align*}
Como $f+\varepsilon 1_{P}$ é uma função $\F$-mensurável
e o conjunto $E$ é qualquer em $\F$, 
a desigualdade acima implica imediatamente que
a função $(f+\varepsilon 1_{P})\in \mathscr{C}$.
Como $\mu$ é uma medida temos duas possibilidade
ou $\mu(P)>0$ ou $\mu(P)=0$. Vamos mostrar que 
não é possível ter $\mu(P)>0$. 
De fato, assumir que $\mu(P)>0$ implica que 
%
\begin{align*}
\int_{\Omega}  
(f+\varepsilon 1_{P})\, d\mu
=
\int_{\Omega} f\, d\mu
+
\varepsilon\mu(P)
>
\int_{\Omega} f\, d\mu
=
M
\end{align*}
o que é um absurdo. Assim só resta $\mu(P)=0$.
Neste caso como $\lambda\ll \mu$ temos que 
$\lambda(P)=0$. Logo 
\[
\gamma(P) 
= 
\lambda(P)-\int_{P} f\, d\mu
\leq 
\lambda(P)
=
0.
\]
Usando a igualdade acima, $\mu(P)=0$ e que $\Omega = P\cup N$ 
temos que 
\[
\gamma(\Omega)-\varepsilon\mu(\Omega)
=
(\gamma(P)-\varepsilon\mu(P))
+
(\gamma(N)-\varepsilon\mu(N))
\leq 
0
\]
contradizendo que $\gamma(\Omega)-\varepsilon\mu(\Omega)>0$.
Portanto podemos concluir que $\gamma\equiv 0$ o 
que significa que 
\[
\lambda(E)
=
\int_E f\, d\mu,
\ \ \forall\ E\in\F.
\]
Suponha que $g$ é também uma função $\F$-mensurável
satistazendo a igualdade acima para todo $E\in \F$.
Pela linearidade da integral temos para qualquer 
$E\in \F$ que 
\[
\int_E (f-g)\, d\mu = 0.
\]
Tomando $E=\{\omega\in\Omega: f(\omega)\geq g(\omega)\}$,
podemos concluir que $f=g \ \mu$-q.t.p. em $E$.
Raciocinando de forma análoga, para a diferença $g-f$ 
também obtemos que $f=g \ \mu$-q.t.p. em $E^c$ e 
assim finalmente concluímos que $f=g \ \mu$-q.t.p.

Vamos supor que $\lambda$ e $\mu$ são 
$\sigma$-finitas. Seja $\{A_n\}_{n\in\mathbb{N}}$
uma sequência crescente de conjuntos $\F$-mensuráveis com
$\lambda(A_n),\mu(A_n)<+\infty$ e 
$\cup_{n\geq 1}A_n =\Omega$.
Aplicando o teorema para o caso $\sigma$-finito
podemos construir uma sequência de funções 
$\{h_n\}_{n\in\mathbb{N}}$ não negativas e 
$\F$-mensuráveis que se anulam 
para $\omega\in A^c_n$ e para todo 
conjunto $\F$-mensurável $E\subset A_n$
satisfazem a seguinte igualdade
\[
\lambda(E) = \int_E h_n\, d\mu.
\]
Observe que se $m\leq n$ então $A_m\subset A_n$
e segue que 
\[
\int_E h_m\, d\mu
=
\int_E h_n\, d\mu
\]
para todo mensurável $E\subset A_m$.
Da unicidade de $h_m$ segue que 
$h_m=h_n\ \mu$-q.t.p. em $A_m$, 
sempre que $m\leq n$.
Defina $f_n=\max\{h_m: 1\leq m\leq n\}$.
Por definição $f_n\leq f_{n+1}$ e portanto 
podemos definir uma função $f:\Omega\to\overline{\mathbb{R}}$ 
que é $\F$-mensurável 
por $f(\omega) =\lim_{n\to\infty} f_n(\omega)$
para todo $\omega\in\Omega$. Observe que
para todo $E\in\F$ temos 
\[
\lambda(E\cap A_n) = \int_{E} f_n\, d\mu
\]
Usando a continuidade da medida $\lambda$
e o Teorema da Convergência Monótona 
podemos tomar o limite, quando $n\to\infty$,
em ambos os lados da igualdade acima obtendo
\[
\lambda(E) = \int_{E} f\, d\mu,
\ \ \forall \ E\in\F.
\]
A $\mu$ unicidade de $f$ pode ser provada da mesma
forma que fizemos no caso de medida finita.
\end{proof}
